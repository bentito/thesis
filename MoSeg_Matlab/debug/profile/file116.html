<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for eigs>checkInputs/LUfactorAminusSigmaB</title><link rel="stylesheet" href="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">eigs>checkInputs/LUfactorAminusSigmaB (1 call, 2.613 sec)</span><br/><i>Generated 19-May-2013 17:01:04 using cpu time.</i><br/>nested function in file /usr/local/matlab_v7.11/toolbox/matlab/sparfun/eigs.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file112.html">eigs>checkInputs</a></td><td class="td-linebottomrt">nested function</td><td class="td-linebottomrt">1</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line1122">1122</a></td><td class="td-linebottomrt"><pre>[L,U,pp,qq,dgAsB] = lu(AsB);</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">2.613 s</td><td class="td-linebottomrt" class="td-linebottomrt">100.0%</td><td class="td-linebottomrt"><img src="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/private/one-pixel.gif" width=100 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1150">1150</a></td><td class="td-linebottomrt"><pre>end % LUfactorAminusSigmaB</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1141">1141</a></td><td class="td-linebottomrt"><pre>if (rcondestU &lt; eps)       ...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1140">1140</a></td><td class="td-linebottomrt"><pre>rcondestU = full(min(abs(dU)) ...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1135">1135</a></td><td class="td-linebottomrt"><pre>if any(dU == 0) || any(diag(L)...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////usr/local/matlab_v7.11/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">2.613 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/>No children<div class="grayline"/><strong>Code Analyzer results</strong><br/>No Code Analyzer messages.<div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">51</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">12</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">39</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">11</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">28</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">28.21 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">1100</span> <span style="color: #A0A0A0; background: #FFFFFF;">        function [L,U,pp,qq,dgAsB] = LUfactorAminusSigmaB</span><br/>               <span style="color: #A0A0A0">1101</span> <span style="color: #228B22; background: #FFFFFF;">            % LU factor A-sigma*B, including a reordering perm if it is sparse</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1102</span> <span style="color: #000000; background: #FFFFFF;">            if sigma == 0 </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1103</span> <span style="color: #000000; background: #FFFFFF;">                AsB = A; </span><br/>               <span style="color: #A0A0A0">1104</span> <span style="color: #A0A0A0; background: #FFFFFF;">            elseif isempty(B)</span><br/>               <span style="color: #A0A0A0">1105</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if issparse(A)</span><br/>               <span style="color: #A0A0A0">1106</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    AsB = A - sigma * speye(n);</span><br/>               <span style="color: #A0A0A0">1107</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0">1108</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    AsB = A - sigma * eye(n);</span><br/>               <span style="color: #A0A0A0">1109</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0">1110</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0">1111</span> <span style="color: #A0A0A0; background: #FFFFFF;">                if cholB</span><br/>               <span style="color: #A0A0A0">1112</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if issparse(B)</span><br/>               <span style="color: #A0A0A0">1113</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        AsB = A - sigma * checkInputBmtimes(speye(n));</span><br/>               <span style="color: #A0A0A0">1114</span> <span style="color: #228B22; background: #FFFFFF;">                    else</span><br/>               <span style="color: #A0A0A0">1115</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        AsB = A - sigma * checkInputBmtimes(eye(n));</span><br/>               <span style="color: #A0A0A0">1116</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0">1117</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0">1118</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    AsB = A - sigma * B;</span><br/>               <span style="color: #A0A0A0">1119</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>               <span style="color: #A0A0A0">1120</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1121</span> <span style="color: #000000; background: #FFFFFF;">            if issparse(AsB) </span><br/><span style="color: #FF0000">  2.61 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1122</span> <a name="Line1122"></a><span style="color: #000000; background: #FF8080;">                [L,U,pp,qq,dgAsB] = lu(AsB); </span><br/>               <span style="color: #A0A0A0">1123</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0">1124</span> <span style="color: #A0A0A0; background: #FFFFFF;">                [L,U,pp] = lu(AsB,'vector');</span><br/>               <span style="color: #A0A0A0">1125</span> <span style="color: #A0A0A0; background: #FFFFFF;">                qq = []; dgAsB = [];</span><br/>               <span style="color: #A0A0A0">1126</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0">1127</span> <span style="color: #228B22; background: #FFFFFF;">            % Warn if lu(A-sigma*B) is ill-conditioned</span><br/>               <span style="color: #A0A0A0">1128</span> <span style="color: #228B22; background: #FFFFFF;">            % =&gt; sigma is close to an exact eigenvalue of (A,B)</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1129</span> <span style="color: #000000; background: #FFFFFF;">            if isempty(B) </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1130</span> <span style="color: #000000; background: #FFFFFF;">                ds = '(A-sigma*I)'; </span><br/>               <span style="color: #A0A0A0">1131</span> <span style="color: #228B22; background: #FFFFFF;">            else</span><br/>               <span style="color: #A0A0A0">1132</span> <span style="color: #A0A0A0; background: #FFFFFF;">                ds = '(A-sigma*B)';</span><br/>               <span style="color: #A0A0A0">1133</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1134</span> <span style="color: #000000; background: #FFFFFF;">            dU = diag(U); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1135</span> <a name="Line1135"></a><span style="color: #000000; background: #FFFFFF;">            if any(dU == 0) || any(diag(L) == 0) </span><br/>               <span style="color: #A0A0A0">1136</span> <span style="color: #A0A0A0; background: #FFFFFF;">                error('MATLAB:eigs:AminusBSingular', ...</span><br/>               <span style="color: #A0A0A0">1137</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    [ds 'is singular. The shift is an eigenvalue.\n' ...</span><br/>               <span style="color: #A0A0A0">1138</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    'Try to use some other shift please.\n']);</span><br/>               <span style="color: #A0A0A0">1139</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1140</span> <a name="Line1140"></a><span style="color: #000000; background: #FFFFFF;">            rcondestU = full(min(abs(dU)) / max(abs(dU))); </span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1141</span> <a name="Line1141"></a><span style="color: #000000; background: #FFFFFF;">            if (rcondestU &lt; eps)                 </span><br/>               <span style="color: #A0A0A0">1142</span> <span style="color: #A0A0A0; background: #FFFFFF;">                warning('MATLAB:eigs:SigmaNearExactEig',...</span><br/>               <span style="color: #A0A0A0">1143</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    [ds ' has small reciprocal condition' ...</span><br/>               <span style="color: #A0A0A0">1144</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    ' estimate: %f\n' ...</span><br/>               <span style="color: #A0A0A0">1145</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    '         indicating that sigma is near an exact' ...</span><br/>               <span style="color: #A0A0A0">1146</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    ' eigenvalue.\n         The algorithm may not converge unless' ...</span><br/>               <span style="color: #A0A0A0">1147</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    ' you try a new value for sigma.\n'], ...</span><br/>               <span style="color: #A0A0A0">1148</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    rcondestU);</span><br/>               <span style="color: #A0A0A0">1149</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold">1150</span> <a name="Line1150"></a><span style="color: #000000; background: #FFFFFF;">        end % LUfactorAminusSigmaB </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>